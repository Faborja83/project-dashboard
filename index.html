<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Project Dashboard - Gantt Chart</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="sidebar">
        <div class="sidebar-header">
            <h2>üìä Dashboard</h2>
            <p class="user-name">Faborja83</p>
        </div>
        <nav class="sidebar-nav">
            <button class="nav-btn active" data-page="dashboard">
                <span class="icon">üìà</span> Dashboard
            </button>
            <button class="nav-btn" data-page="admin">
                <span class="icon">‚öôÔ∏è</span> Admin Panel
            </button>
            <button class="nav-btn" data-page="import-export">
                <span class="icon">üì•</span> Import/Export
            </button>
        </nav>
        <div class="sidebar-footer">
            <p class="version">v1.0.0</p>
            <p class="last-sync" id="lastSync">Never synced</p>
        </div>
    </div>

    <div class="main-content">
        <!-- Dashboard Page -->
        <div class="page" id="dashboard-page" data-page="dashboard">
            <div class="page-header">
                <h1>Project Timeline Dashboard</h1>
                <p class="subtitle">Track project progress across your portfolio</p>
                <div class="header-actions">
                    <button class="btn btn-secondary" id="refreshBtn">üîÑ Refresh</button>
                    <button class="btn btn-secondary" id="exportBtn">üì• Export CSV</button>
                </div>
            </div>

            <div class="stats" id="stats"></div>

            <div class="filters">
                <input type="text" id="searchInput" placeholder="üîç Search projects..." class="search-box">
                <select id="statusFilter" class="filter-select">
    <option value="">All Status</option>
    <option value="idea">Idea</option>
    <option value="research">Research</option>
    <option value="writing">Writing</option>
    <option value="internal-review">Internal Review</option>
    <option value="ready-to-submit">Ready to Submit</option>
    <option value="submitted">Submitted</option>
    <option value="under-review">Under Review</option>
    <option value="revision">Revision</option>
    <option value="accepted">Accepted</option>
    <option value="published">Published</option>
    <option value="rejected">Rejected</option>
</select>

            </div>

            <div class="gantt-wrapper">
                <div class="gantt-container">
                    <div class="gantt-labels" id="labels"></div>
                    <div class="gantt-chart">
                        <div class="gantt-header" id="header"></div>
                        <div id="chart"></div>
                    </div>
                </div>
            </div>

            <div class="legend">
                <div class="legend-item">
                    <div class="legend-color in-progress"></div>
                    <span>In Progress</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color completed-legend"></div>
                    <span>Completed</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color at-risk-legend"></div>
                    <span>At Risk</span>
                </div>
                <div class="legend-item">
                    <div class="legend-color delayed-legend"></div>
                    <span>Delayed</span>
                </div>
            </div>
        </div>

        <!-- Admin Panel Page -->
        <div class="page" id="admin-page" data-page="admin">
            <div class="page-header">
                <h1>Admin Panel</h1>
                <p class="subtitle">Manage your projects</p>
            </div>

            <div class="admin-controls">
                <button class="btn btn-primary" id="addProjectBtn">‚ûï Add New Project</button>
                <button class="btn btn-secondary" id="saveAllBtn">üíæ Save All Changes</button>
            </div>

            <div class="projects-list" id="projectsList"></div>

            <!-- Add/Edit Project Modal -->
            <div class="modal" id="projectModal">
                <div class="modal-content">
                    <div class="modal-header">
                        <h2 id="modalTitle">Add New Project</h2>
                        <button class="close-btn">&times;</button>
                    </div>
                    <form id="projectForm" class="form">
                        <div class="form-group">
                            <label for="projectName">Project Name *</label>
                            <input type="text" id="projectName" required>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="projectDescription">Description</label>
                                <textarea id="projectDescription"></textarea>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="startDate">Start Date *</label>
                                <input type="date" id="startDate" required>
                            </div>
                            <div class="form-group">
                                <label for="endDate">End Date *</label>
                                <input type="date" id="endDate" required>
                            </div>
                        </div>

                        <div class="form-row">
                            <div class="form-group">
                                <label for="progress">Progress (%) *</label>
                                <div class="progress-input-wrapper">
                                    <input type="range" id="progress" min="0" max="100" value="0">
                                    <input type="number" id="progressValue" min="0" max="100" value="0">
                                </div>
                            </div>
                            <div class="form-group">
                                <label for="status">Status *</label>
                                <select id="status" required>
                                    <option value="idea">Idea / Proposal</option>
                                    <option value="research">Research / Literature Review</option>
                                    <option value="writing">Drafting</option>
                                    <option value="internal-review">Internal Review</option>
                                    <option value="ready-to-submit">Ready to Submit</option>
                                    <option value="submitted">Submitted</option>
                                    <option value="under-review">Under Peer Review</option>
                                    <option value="revision">Revision (R&R)</option>
                                    <option value="accepted">Accepted</option>
                                    <option value="published">Published</option>
                                    <option value="rejected">Rejected</option>
                                </select>

                            </div>
                        </div>

                        <div class="form-group">
                            <label for="projectLink">GitHub Link (Optional)</label>
                            <input type="url" id="projectLink" placeholder="https://github.com/...">
                        </div>

                        <div class="form-actions">
                            <button type="submit" class="btn btn-primary">Save Project</button>
                            <button type="button" class="btn btn-secondary" id="cancelBtn">Cancel</button>
                            <button type="button" class="btn btn-danger" id="deleteBtn" style="display: none;">Delete</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>

        <!-- Import/Export Page -->
        <div class="page" id="import-export-page" data-page="import-export">
            <div class="page-header">
                <h1>Import / Export</h1>
                <p class="subtitle">Manage your project data</p>
            </div>

            <div class="import-export-container">
                <div class="import-export-section">
                    <h3>üì• Import Projects</h3>
                    <p>Upload a CSV file to import multiple projects at once.</p>
                    <div class="file-upload">
                        <input type="file" id="csvFile" accept=".csv" class="file-input">
                        <label for="csvFile" class="file-label">Click to select CSV file or drag and drop</label>
                    </div>
                    <button class="btn btn-primary" id="importBtn">Import CSV</button>
                    <a href="projects.csv" class="btn btn-secondary">üìÑ Download Template</a>
                </div>

                <div class="import-export-section">
                    <h3>üì§ Export Projects</h3>
                    <p>Export all your projects as CSV or JSON.</p>
                    <button class="btn btn-primary" id="exportCsvBtn">üì• Export as CSV</button>
                    <button class="btn btn-secondary" id="exportJsonBtn">üì• Export as JSON</button>
                </div>

                <div class="import-export-section">
                    <h3>‚òÅÔ∏è Sync with GitHub</h3>
                    <p>Save your projects data to a GitHub repository.</p>
                    <div class="form-group">
                        <label for="githubRepo">GitHub Repository URL</label>
                        <input type="url" id="githubRepo" placeholder="https://github.com/yourusername/your-repo">
                    </div>
                    <button class="btn btn-primary" id="syncBtn">Sync to GitHub</button>
                </div>
            </div>
        </div>
    </div>

    <div class="toast" id="toast"></div>

    <script src="https://papa-parse.com/papaparse.min.js"></script>
    <script src="app.js"></script>
</body>
</html>
